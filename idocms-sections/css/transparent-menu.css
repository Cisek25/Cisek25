/* ========================================
   NAVBAR PRZEZROCZYSTE MENU + SCROLL DETECTION

   INSTRUKCJA:
   Wklej ten kod do: Panel CMS → Wygląd/Style → Custom CSS
   Lub w sekcji "Koniec sekcji body" w tagu <style>

   FUNKCJE:
   - Menu przezroczyste na górze strony
   - Menu z tłem po zjechaniu w dół (scroll)
   - JavaScript na końcu dla detekcji scrollu

   Targetuje konkretne klasy z idoBooking:
   - .menu-wrapper
   - .navbar
   - .bgd-color-light
   ======================================== */

/* Główny wrapper menu - PRZEZROCZYSTY (domyślnie) */
.menu-wrapper,
.menu-wrapper.bgd-color-light,
.bgd-color-light.menu-wrapper {
  background: transparent !important;
  background-color: transparent !important;
  box-shadow: none !important;
  border: none !important;
  border-bottom: none !important;
  transition: all 0.3s ease !important;
}

/* Menu po SCROLL - WIDOCZNE TŁO */
.menu-wrapper.scrolled,
.menu-wrapper.bgd-color-light.scrolled {
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(15px) !important;
  -webkit-backdrop-filter: blur(15px) !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) !important;
  border-bottom: 1px solid rgba(184, 147, 94, 0.15) !important;
}

/* Navbar - przezroczysty */
.navbar {
  background: transparent !important;
  background-color: transparent !important;
  transition: all 0.3s ease !important;
}

/* Container wewnątrz menu-wrapper */
.menu-wrapper .container {
  background: transparent !important;
}

/* ========================================
   NAPISY W MENU - BARDZO WIDOCZNE, PRZEZROCZYSTA OTOCZKA
   ======================================== */

/* Linki nawigacji - DOMYŚLNIE (na górze) */
.nav-link,
.navbar-nav .nav-link {
  color: #0F2438 !important;
  font-weight: 900 !important;
  text-shadow:
    0 0 12px rgba(255, 255, 255, 1),
    0 0 8px rgba(255, 255, 255, 1),
    0 1px 4px rgba(255, 255, 255, 0.95),
    0 2px 6px rgba(0, 0, 0, 0.4),
    1px 1px 0 rgba(255, 255, 255, 0.9),
    -1px -1px 0 rgba(255, 255, 255, 0.9) !important;
  padding: 10px 18px !important;
  background: rgba(255, 255, 255, 0.15) !important;
  border-radius: 8px !important;
  transition: all 0.3s ease !important;
  margin: 0 5px !important;
  font-size: 1.05em !important;
}

/* Linki po SCROLL - mniejszy cień, więcej tła */
.menu-wrapper.scrolled .nav-link,
.menu-wrapper.scrolled .navbar-nav .nav-link {
  background: rgba(255, 255, 255, 0.5) !important;
  text-shadow:
    0 1px 2px rgba(255, 255, 255, 0.8),
    0 1px 3px rgba(0, 0, 0, 0.15) !important;
}

/* Hover na linkach */
.nav-link:hover,
.navbar-nav .nav-link:hover {
  color: #B8935E !important;
  background: rgba(255, 255, 255, 0.75) !important;
  transform: translateY(-3px) !important;
  text-shadow:
    0 0 15px rgba(255, 255, 255, 1),
    0 2px 6px rgba(184, 147, 94, 0.5),
    0 3px 8px rgba(0, 0, 0, 0.35),
    1px 1px 0 rgba(255, 255, 255, 1),
    -1px -1px 0 rgba(255, 255, 255, 1) !important;
  box-shadow: 0 4px 12px rgba(184, 147, 94, 0.3) !important;
}

/* ========================================
   LOGO
   ======================================== */

.navbar-brand {
  background: rgba(255, 255, 255, 0.4) !important;
  padding: 8px 12px !important;
  border-radius: 8px !important;
  transition: all 0.3s ease !important;
}

.navbar-brand:hover {
  background: rgba(255, 255, 255, 0.6) !important;
  transform: scale(1.03) !important;
}

.navbar-brand img {
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
}

/* ========================================
   PRZYCISK REZERWACJI
   ======================================== */

.navbar-reservation.btn {
  background: #1C3C5A !important;
  color: white !important;
  font-weight: 700 !important;
  border: none !important;
  padding: 12px 24px !important;
  border-radius: 25px !important;
  text-shadow: none !important;
  box-shadow: 0 4px 12px rgba(28, 60, 90, 0.3) !important;
  transition: all 0.3s ease !important;
}

.navbar-reservation.btn:hover {
  background: #B8935E !important;
  transform: translateY(-3px) !important;
  box-shadow: 0 6px 16px rgba(184, 147, 94, 0.4) !important;
}

/* ========================================
   TOGGLE BUTTON (MOBILE)
   ======================================== */

.navbar-toggler {
  background: rgba(255, 255, 255, 0.4) !important;
  border: 2px solid rgba(255, 255, 255, 0.6) !important;
  padding: 10px 16px !important;
  border-radius: 8px !important;
  color: #0F2438 !important;
  font-weight: 700 !important;
  transition: all 0.3s ease !important;
}

.navbar-toggler:hover {
  background: rgba(255, 255, 255, 0.7) !important;
  border-color: #B8935E !important;
}

.navbar-toggler .icon {
  filter: drop-shadow(0 1px 2px rgba(255,255,255,0.8));
}

/* ========================================
   LANGUAGE SELECTOR
   ======================================== */

.page-top__language {
  background: rgba(255, 255, 255, 0.35) !important;
  padding: 8px 12px !important;
  border-radius: 6px !important;
  transition: all 0.3s ease !important;
}

.language__toggler {
  color: #0F2438 !important;
  font-weight: 700 !important;
  text-shadow:
    0 1px 2px rgba(255, 255, 255, 0.9),
    0 1px 3px rgba(0, 0, 0, 0.2) !important;
  background: transparent !important;
  border: none !important;
}

.language__toggler:hover {
  color: #B8935E !important;
}

/* Dropdown menu */
.language,
#language_menu {
  background: rgba(255, 255, 255, 0.98) !important;
  backdrop-filter: blur(10px) !important;
  box-shadow: 0 8px 24px rgba(0,0,0,0.15) !important;
  border-radius: 12px !important;
  border: 1px solid rgba(184, 147, 94, 0.2) !important;
}

.currency select,
#frontpage_currency {
  background: white !important;
  border: 2px solid #E8E3D8 !important;
  border-radius: 8px !important;
  padding: 10px !important;
  color: #0F2438 !important;
  font-weight: 600 !important;
}

.currency select:focus,
#frontpage_currency:focus {
  border-color: #B8935E !important;
  outline: none !important;
  box-shadow: 0 0 0 3px rgba(184, 147, 94, 0.1) !important;
}

/* ========================================
   MOBILE MENU
   ======================================== */

@media (max-width: 991px) {
  #navbar {
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(15px) !important;
    border-radius: 12px !important;
    margin-top: 10px !important;
    padding: 15px !important;
    box-shadow: 0 8px 24px rgba(0,0,0,0.1) !important;
  }

  .nav-link,
  .navbar-nav .nav-link {
    display: block !important;
    margin: 5px 0 !important;
    padding: 12px 16px !important;
    text-align: left !important;
  }
}

/* ========================================
   KONIEC CSS
   ======================================== */
</style>

<!-- ========================================
     JAVASCRIPT - SCROLL DETECTION

     Ten skrypt dodaje klasę 'scrolled' do .menu-wrapper
     gdy użytkownik zjedzie w dół strony.

     Wklej to razem z CSS powyżej!
     ======================================== -->

<script>
(function() {
  'use strict';

  // Znajdź menu wrapper
  const menuWrapper = document.querySelector('.menu-wrapper');

  if (!menuWrapper) {
    console.log('Menu wrapper nie znaleziony');
    return;
  }

  // Funkcja sprawdzająca scroll
  function checkScroll() {
    const scrollPosition = window.pageYOffset || document.documentElement.scrollTop;

    // Jeśli scroll > 50px, dodaj klasę 'scrolled'
    if (scrollPosition > 50) {
      menuWrapper.classList.add('scrolled');
    } else {
      menuWrapper.classList.remove('scrolled');
    }
  }

  // Nasłuchuj scroll
  let ticking = false;
  window.addEventListener('scroll', function() {
    if (!ticking) {
      window.requestAnimationFrame(function() {
        checkScroll();
        ticking = false;
      });
      ticking = true;
    }
  });

  // Sprawdź przy załadowaniu strony
  checkScroll();

  console.log('✅ Transparent menu scroll detection załadowane');
})();
</script>
